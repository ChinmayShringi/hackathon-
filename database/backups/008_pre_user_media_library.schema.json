{
  "generatedAt": "2025-08-16T04:53:07.298Z",
  "inputFile": "/Users/timcotten/Projects/delula/database/backups/008_pre_user_media_library.sql",
  "tables": {
    "drizzle.__drizzle_migrations": {
      "schema": "drizzle",
      "name": "__drizzle_migrations",
      "columns": {
        "id": "integer NOT NULL",
        "hash": "text NOT NULL",
        "created_at": "bigint"
      },
      "primaryKey": [
        "id"
      ],
      "uniqueConstraints": [],
      "foreignKeys": [],
      "indexes": []
    },
    "public.backlog_videos": {
      "schema": "public",
      "name": "backlog_videos",
      "columns": {
        "id": "integer NOT NULL",
        "recipe_id": "integer NOT NULL",
        "recipe_variables": "jsonb NOT NULL",
        "recipe_variables_hash": "character varying(64) NOT NULL",
        "generation_id": "integer NOT NULL",
        "video_url": "text NOT NULL",
        "thumbnail_url": "text",
        "s3_key": "text",
        "asset_id": "text",
        "short_id": "character varying(11)",
        "secure_url": "text",
        "is_used": "boolean DEFAULT false NOT NULL",
        "used_by_request_id": "integer",
        "used_at": "timestamp without time zone",
        "metadata": "jsonb",
        "created_at": "timestamp without time zone DEFAULT now()"
      },
      "primaryKey": [
        "id"
      ],
      "uniqueConstraints": [],
      "foreignKeys": [],
      "indexes": []
    },
    "public.brand_assets": {
      "schema": "public",
      "name": "brand_assets",
      "columns": {
        "id": "integer NOT NULL",
        "user_id": "character varying NOT NULL",
        "name": "character varying NOT NULL",
        "file_name": "character varying NOT NULL",
        "file_url": "character varying NOT NULL",
        "file_size": "integer NOT NULL",
        "mime_type": "character varying NOT NULL",
        "width": "integer",
        "height": "integer",
        "tags": "text[]",
        "is_transparent": "boolean DEFAULT false",
        "created_at": "timestamp without time zone DEFAULT now()",
        "updated_at": "timestamp without time zone DEFAULT now()"
      },
      "primaryKey": [
        "id"
      ],
      "uniqueConstraints": [],
      "foreignKeys": [],
      "indexes": []
    },
    "public.component_dependencies": {
      "schema": "public",
      "name": "component_dependencies",
      "columns": {
        "id": "integer NOT NULL",
        "component_id": "character varying(100) NOT NULL",
        "depends_on_component_id": "character varying(100) NOT NULL",
        "dependency_type": "character varying(50)",
        "description": "text",
        "created_at": "timestamp without time zone DEFAULT now()"
      },
      "primaryKey": [
        "id"
      ],
      "uniqueConstraints": [],
      "foreignKeys": [
        {
          "constraintName": "",
          "columns": [
            "component_id"
          ],
          "referencedSchema": "public",
          "referencedTable": "component_registry",
          "referencedColumns": [
            "component_id"
          ]
        },
        {
          "constraintName": "",
          "columns": [
            "depends_on_component_id"
          ],
          "referencedSchema": "public",
          "referencedTable": "component_registry",
          "referencedColumns": [
            "component_id"
          ]
        }
      ],
      "indexes": [
        {
          "name": "idx_component_dependencies_component_id",
          "unique": false,
          "schema": "public",
          "table": "component_dependencies",
          "definition": "CREATE INDEX idx_component_dependencies_component_id ON public.component_dependencies USING btree (component_id);",
          "columns": [
            "component_id"
          ]
        },
        {
          "name": "idx_component_dependencies_depends_on",
          "unique": false,
          "schema": "public",
          "table": "component_dependencies",
          "definition": "CREATE INDEX idx_component_dependencies_depends_on ON public.component_dependencies USING btree (depends_on_component_id);",
          "columns": [
            "depend"
          ]
        }
      ]
    },
    "public.component_input_channels": {
      "schema": "public",
      "name": "component_input_channels",
      "columns": {
        "id": "integer NOT NULL",
        "component_id": "character varying(100) NOT NULL",
        "channel_id": "character varying(100) NOT NULL",
        "channel_name": "character varying(200) NOT NULL",
        "type": "integer NOT NULL",
        "position": "integer NOT NULL",
        "is_required": "boolean DEFAULT false",
        "description": "text",
        "validation_rules": "jsonb",
        "default_value": "text",
        "created_at": "timestamp without time zone DEFAULT now()"
      },
      "primaryKey": [
        "id"
      ],
      "uniqueConstraints": [
        [
          "component_id",
          "channel_id"
        ]
      ],
      "foreignKeys": [
        {
          "constraintName": "",
          "columns": [
            "component_id"
          ],
          "referencedSchema": "public",
          "referencedTable": "component_registry",
          "referencedColumns": [
            "component_id"
          ]
        }
      ],
      "indexes": [
        {
          "name": "idx_component_input_channels_component_id",
          "unique": false,
          "schema": "public",
          "table": "component_input_channels",
          "definition": "CREATE INDEX idx_component_input_channels_component_id ON public.component_input_channels USING btree (component_id);",
          "columns": [
            "component_id"
          ]
        },
        {
          "name": "idx_component_input_channels_position",
          "unique": false,
          "schema": "public",
          "table": "component_input_channels",
          "definition": "CREATE INDEX idx_component_input_channels_position ON public.component_input_channels USING btree (\"position\");",
          "columns": [
            "po"
          ]
        }
      ]
    },
    "public.component_output_channels": {
      "schema": "public",
      "name": "component_output_channels",
      "columns": {
        "id": "integer NOT NULL",
        "component_id": "character varying(100) NOT NULL",
        "channel_id": "character varying(100) NOT NULL",
        "channel_name": "character varying(200) NOT NULL",
        "type": "integer NOT NULL",
        "description": "text",
        "metadata": "jsonb",
        "created_at": "timestamp without time zone DEFAULT now()"
      },
      "primaryKey": [
        "id"
      ],
      "uniqueConstraints": [
        [
          "component_id",
          "channel_id"
        ]
      ],
      "foreignKeys": [
        {
          "constraintName": "",
          "columns": [
            "component_id"
          ],
          "referencedSchema": "public",
          "referencedTable": "component_registry",
          "referencedColumns": [
            "component_id"
          ]
        }
      ],
      "indexes": [
        {
          "name": "idx_component_output_channels_component_id",
          "unique": false,
          "schema": "public",
          "table": "component_output_channels",
          "definition": "CREATE INDEX idx_component_output_channels_component_id ON public.component_output_channels USING btree (component_id);",
          "columns": [
            "component_id"
          ]
        }
      ]
    },
    "public.component_registry": {
      "schema": "public",
      "name": "component_registry",
      "columns": {
        "id": "integer NOT NULL",
        "component_id": "character varying(100) NOT NULL",
        "name": "character varying(200) NOT NULL",
        "version": "character varying(20) DEFAULT '1.0.0'::character varying NOT NULL",
        "description": "text",
        "category": "character varying(100)",
        "tags": "text[]",
        "credit_cost": "integer DEFAULT 0",
        "estimated_processing_time": "integer",
        "is_active": "boolean DEFAULT true",
        "created_at": "timestamp without time zone DEFAULT now()",
        "updated_at": "timestamp without time zone DEFAULT now()"
      },
      "primaryKey": [
        "id"
      ],
      "uniqueConstraints": [
        [
          "component_id"
        ]
      ],
      "foreignKeys": [],
      "indexes": [
        {
          "name": "idx_component_registry_category",
          "unique": false,
          "schema": "public",
          "table": "component_registry",
          "definition": "CREATE INDEX idx_component_registry_category ON public.component_registry USING btree (category);",
          "columns": [
            "category"
          ]
        },
        {
          "name": "idx_component_registry_component_id",
          "unique": false,
          "schema": "public",
          "table": "component_registry",
          "definition": "CREATE INDEX idx_component_registry_component_id ON public.component_registry USING btree (component_id);",
          "columns": [
            "component_id"
          ]
        },
        {
          "name": "idx_component_registry_is_active",
          "unique": false,
          "schema": "public",
          "table": "component_registry",
          "definition": "CREATE INDEX idx_component_registry_is_active ON public.component_registry USING btree (is_active);",
          "columns": [
            "i"
          ]
        }
      ]
    },
    "public.component_usage": {
      "schema": "public",
      "name": "component_usage",
      "columns": {
        "id": "integer NOT NULL",
        "component_id": "character varying(100) NOT NULL",
        "user_id": "character varying(100)",
        "execution_id": "character varying(100)",
        "input_data": "jsonb",
        "output_data": "jsonb",
        "processing_time_ms": "integer",
        "credit_cost": "integer",
        "success": "boolean",
        "error_message": "text",
        "created_at": "timestamp without time zone DEFAULT now()"
      },
      "primaryKey": [
        "id"
      ],
      "uniqueConstraints": [],
      "foreignKeys": [
        {
          "constraintName": "",
          "columns": [
            "component_id"
          ],
          "referencedSchema": "public",
          "referencedTable": "component_registry",
          "referencedColumns": [
            "component_id"
          ]
        },
        {
          "constraintName": "",
          "columns": [
            "user_id"
          ],
          "referencedSchema": "public",
          "referencedTable": "users",
          "referencedColumns": [
            "id"
          ]
        }
      ],
      "indexes": [
        {
          "name": "idx_component_usage_component_id",
          "unique": false,
          "schema": "public",
          "table": "component_usage",
          "definition": "CREATE INDEX idx_component_usage_component_id ON public.component_usage USING btree (component_id);",
          "columns": [
            "component_id"
          ]
        },
        {
          "name": "idx_component_usage_created_at",
          "unique": false,
          "schema": "public",
          "table": "component_usage",
          "definition": "CREATE INDEX idx_component_usage_created_at ON public.component_usage USING btree (created_at);",
          "columns": [
            "created_at"
          ]
        },
        {
          "name": "idx_component_usage_execution_id",
          "unique": false,
          "schema": "public",
          "table": "component_usage",
          "definition": "CREATE INDEX idx_component_usage_execution_id ON public.component_usage USING btree (execution_id);",
          "columns": [
            "execution_id"
          ]
        },
        {
          "name": "idx_component_usage_success",
          "unique": false,
          "schema": "public",
          "table": "component_usage",
          "definition": "CREATE INDEX idx_component_usage_success ON public.component_usage USING btree (success);",
          "columns": []
        },
        {
          "name": "idx_component_usage_user_id",
          "unique": false,
          "schema": "public",
          "table": "component_usage",
          "definition": "CREATE INDEX idx_component_usage_user_id ON public.component_usage USING btree (user_id);",
          "columns": [
            "u"
          ]
        }
      ]
    },
    "public.credit_transactions": {
      "schema": "public",
      "name": "credit_transactions",
      "columns": {
        "id": "integer NOT NULL",
        "user_id": "character varying NOT NULL",
        "amount": "integer NOT NULL",
        "type": "text NOT NULL",
        "description": "text NOT NULL",
        "created_at": "timestamp without time zone DEFAULT now()",
        "payment_id": "character varying",
        "metadata": "jsonb"
      },
      "primaryKey": [
        "id"
      ],
      "uniqueConstraints": [],
      "foreignKeys": [],
      "indexes": []
    },
    "public.export_transactions": {
      "schema": "public",
      "name": "export_transactions",
      "columns": {
        "id": "integer NOT NULL",
        "sample_id": "integer NOT NULL",
        "buyer_id": "character varying NOT NULL",
        "creator_id": "character varying NOT NULL",
        "export_format": "character varying(20) NOT NULL",
        "export_quality": "character varying(20) NOT NULL",
        "price_credits": "integer NOT NULL",
        "creator_earnings": "integer NOT NULL",
        "download_url": "text NOT NULL",
        "expires_at": "timestamp without time zone NOT NULL",
        "downloaded_at": "timestamp without time zone",
        "created_at": "timestamp without time zone DEFAULT now()"
      },
      "primaryKey": [
        "id"
      ],
      "uniqueConstraints": [],
      "foreignKeys": [],
      "indexes": []
    },
    "public.generations": {
      "schema": "public",
      "name": "generations",
      "columns": {
        "id": "integer NOT NULL",
        "user_id": "character varying NOT NULL",
        "recipe_id": "integer",
        "recipe_title": "text",
        "prompt": "text NOT NULL",
        "image_url": "text",
        "status": "text DEFAULT 'pending'::text NOT NULL",
        "metadata": "jsonb",
        "created_at": "timestamp without time zone DEFAULT now()",
        "updated_at": "timestamp without time zone DEFAULT now()",
        "video_url": "text",
        "thumbnail_url": "text",
        "s3_key": "text",
        "asset_id": "text",
        "queue_position": "integer",
        "processing_started_at": "timestamp without time zone",
        "type": "character varying(20) DEFAULT 'image'::character varying NOT NULL",
        "is_public": "boolean DEFAULT false NOT NULL",
        "is_published": "boolean DEFAULT false NOT NULL",
        "download_count": "integer DEFAULT 0 NOT NULL",
        "like_count": "integer DEFAULT 0 NOT NULL",
        "failure_reason": "text",
        "error_details": "jsonb",
        "credits_cost": "integer",
        "credits_refunded": "boolean DEFAULT false NOT NULL",
        "refunded_at": "timestamp without time zone",
        "retry_count": "integer DEFAULT 0 NOT NULL",
        "max_retries": "integer DEFAULT 2 NOT NULL",
        "short_id": "character varying(11)",
        "secure_url": "text",
        "fal_job_id": "text",
        "fal_job_status": "text",
        "recovery_checked": "boolean DEFAULT false NOT NULL"
      },
      "primaryKey": [
        "id"
      ],
      "uniqueConstraints": [
        [
          "short_id"
        ]
      ],
      "foreignKeys": [],
      "indexes": [
        {
          "name": "idx_generations_user_pagination_new",
          "unique": false,
          "schema": "public",
          "table": "generations",
          "definition": "CREATE INDEX idx_generations_user_pagination_new ON public.generations USING btree (user_id, created_at DESC);",
          "columns": [
            "u",
            "created_at"
          ]
        },
        {
          "name": "idx_generations_user_stats_new",
          "unique": false,
          "schema": "public",
          "table": "generations",
          "definition": "CREATE INDEX idx_generations_user_stats_new ON public.generations USING btree (user_id, status, created_at DESC);",
          "columns": [
            "u",
            "created_at"
          ]
        }
      ]
    },
    "public.providers": {
      "schema": "public",
      "name": "providers",
      "columns": {
        "id": "integer NOT NULL",
        "title": "character varying(100) NOT NULL",
        "description": "text",
        "num_slots": "integer DEFAULT 1 NOT NULL",
        "is_active": "boolean DEFAULT true NOT NULL",
        "config": "jsonb",
        "created_at": "timestamp without time zone DEFAULT now()",
        "updated_at": "timestamp without time zone DEFAULT now()"
      },
      "primaryKey": [
        "id"
      ],
      "uniqueConstraints": [
        [
          "title"
        ]
      ],
      "foreignKeys": [],
      "indexes": []
    },
    "public.recipe_option_tag_icon": {
      "schema": "public",
      "name": "recipe_option_tag_icon",
      "columns": {
        "id": "text NOT NULL",
        "display": "text NOT NULL",
        "icon": "text",
        "color": "text",
        "created_at": "timestamp without time zone DEFAULT now()",
        "updated_at": "timestamp without time zone DEFAULT now()"
      },
      "primaryKey": [
        "id"
      ],
      "uniqueConstraints": [],
      "foreignKeys": [],
      "indexes": []
    },
    "public.recipe_samples": {
      "schema": "public",
      "name": "recipe_samples",
      "columns": {
        "id": "integer NOT NULL",
        "recipe_id": "integer NOT NULL",
        "generation_id": "integer NOT NULL",
        "user_id": "character varying NOT NULL",
        "title": "text",
        "description": "text",
        "original_prompt": "text NOT NULL",
        "thumbnail_url": "text NOT NULL",
        "preview_url": "text NOT NULL",
        "high_res_url": "text NOT NULL",
        "type": "character varying(20) NOT NULL",
        "file_size": "integer NOT NULL",
        "dimensions": "jsonb",
        "download_count": "integer DEFAULT 0 NOT NULL",
        "like_count": "integer DEFAULT 0 NOT NULL",
        "is_featured": "boolean DEFAULT false NOT NULL",
        "is_moderated": "boolean DEFAULT true NOT NULL",
        "moderation_status": "character varying(20) DEFAULT 'pending'::character varying",
        "created_at": "timestamp without time zone DEFAULT now()",
        "updated_at": "timestamp without time zone DEFAULT now()"
      },
      "primaryKey": [
        "id"
      ],
      "uniqueConstraints": [],
      "foreignKeys": [],
      "indexes": []
    },
    "public.recipe_usage": {
      "schema": "public",
      "name": "recipe_usage",
      "columns": {
        "recipe_id": "integer NOT NULL",
        "usage_count": "integer DEFAULT 0 NOT NULL",
        "last_used_at": "timestamp without time zone DEFAULT now()"
      },
      "primaryKey": [
        "recipe_id"
      ],
      "uniqueConstraints": [],
      "foreignKeys": [],
      "indexes": []
    },
    "public.recipe_usage_options": {
      "schema": "public",
      "name": "recipe_usage_options",
      "columns": {
        "recipe_id": "integer NOT NULL",
        "last_generation_id": "integer DEFAULT 0 NOT NULL",
        "summary": "jsonb DEFAULT '{}'::jsonb NOT NULL"
      },
      "primaryKey": [
        "recipe_id"
      ],
      "uniqueConstraints": [],
      "foreignKeys": [],
      "indexes": [
        {
          "name": "idx_recipe_usage_options_last_generation_id",
          "unique": false,
          "schema": "public",
          "table": "recipe_usage_options",
          "definition": "CREATE INDEX idx_recipe_usage_options_last_generation_id ON public.recipe_usage_options USING btree (last_generation_id);",
          "columns": [
            "la"
          ]
        }
      ]
    },
    "public.recipes": {
      "schema": "public",
      "name": "recipes",
      "columns": {
        "id": "integer NOT NULL",
        "name": "text NOT NULL",
        "slug": "character varying(255) NOT NULL",
        "description": "text NOT NULL",
        "prompt": "text NOT NULL",
        "instructions": "text NOT NULL",
        "category": "text NOT NULL",
        "style": "character varying(100) DEFAULT 'photorealistic'::character varying NOT NULL",
        "model": "character varying(100) DEFAULT 'flux-1'::character varying NOT NULL",
        "credit_cost": "integer NOT NULL",
        "usage_count": "integer DEFAULT 0 NOT NULL",
        "is_active": "boolean DEFAULT true NOT NULL",
        "created_at": "timestamp without time zone DEFAULT now()",
        "video_provider": "character varying(50)",
        "video_duration": "integer DEFAULT 10",
        "video_quality": "character varying(20) DEFAULT 'hd'::character varying",
        "video_aspect_ratio": "character varying(10) DEFAULT '16:9'::character varying",
        "image_provider": "character varying(50)",
        "image_quality": "character varying(20) DEFAULT 'hd'::character varying",
        "image_size": "character varying(20) DEFAULT 'landscape_4_3'::character varying",
        "num_images": "integer DEFAULT 1",
        "creator_id": "character varying",
        "is_public": "boolean DEFAULT false NOT NULL",
        "has_content_restrictions": "boolean DEFAULT true NOT NULL",
        "revenue_share_enabled": "boolean DEFAULT false NOT NULL",
        "revenue_share_percentage": "integer DEFAULT 20 NOT NULL",
        "recipe_steps": "jsonb NOT NULL",
        "generation_type": "character varying(20) DEFAULT 'image'::character varying NOT NULL",
        "referral_code": "character varying(20)",
        "preview_image_url": "text",
        "workflow_type": "character varying(50) DEFAULT 'image'::character varying NOT NULL",
        "workflow_components": "jsonb",
        "tag_highlights": "integer[]",
        "audio_type": "integer DEFAULT 0 NOT NULL"
      },
      "primaryKey": [
        "id"
      ],
      "uniqueConstraints": [
        [
          "referral_code"
        ]
      ],
      "foreignKeys": [],
      "indexes": []
    },
    "public.revenue_shares": {
      "schema": "public",
      "name": "revenue_shares",
      "columns": {
        "id": "integer NOT NULL",
        "recipe_id": "integer NOT NULL",
        "creator_id": "character varying NOT NULL",
        "user_id": "character varying NOT NULL",
        "generation_id": "integer NOT NULL",
        "credits_used": "integer NOT NULL",
        "revenue_amount": "integer NOT NULL",
        "share_percentage": "integer NOT NULL",
        "creator_earnings": "integer NOT NULL",
        "is_paid_credits": "boolean NOT NULL",
        "created_at": "timestamp without time zone DEFAULT now() NOT NULL"
      },
      "primaryKey": [
        "id"
      ],
      "uniqueConstraints": [],
      "foreignKeys": [],
      "indexes": []
    },
    "public.sample_likes": {
      "schema": "public",
      "name": "sample_likes",
      "columns": {
        "id": "integer NOT NULL",
        "sample_id": "integer NOT NULL",
        "user_id": "character varying NOT NULL",
        "created_at": "timestamp without time zone DEFAULT now()"
      },
      "primaryKey": [
        "id"
      ],
      "uniqueConstraints": [],
      "foreignKeys": [],
      "indexes": []
    },
    "public.services": {
      "schema": "public",
      "name": "services",
      "columns": {
        "id": "integer NOT NULL",
        "provider_id": "integer",
        "provider_title": "character varying(100)",
        "type_id": "integer NOT NULL",
        "title": "character varying(100) NOT NULL",
        "description": "text NOT NULL",
        "endpoint": "text NOT NULL",
        "config": "jsonb",
        "is_active": "boolean DEFAULT true NOT NULL",
        "created_at": "timestamp without time zone DEFAULT now()",
        "updated_at": "timestamp without time zone DEFAULT now()",
        "base_cost": "numeric(20"
      },
      "primaryKey": [
        "id"
      ],
      "uniqueConstraints": [],
      "foreignKeys": [],
      "indexes": [
        {
          "name": "IDX_services_active",
          "unique": false,
          "schema": "public",
          "table": "services",
          "definition": "CREATE INDEX \"IDX_services_active\" ON public.services USING btree (is_active);",
          "columns": [
            "i"
          ]
        },
        {
          "name": "IDX_services_provider_id",
          "unique": false,
          "schema": "public",
          "table": "services",
          "definition": "CREATE INDEX \"IDX_services_provider_id\" ON public.services USING btree (provider_id);",
          "columns": [
            "provider_id"
          ]
        },
        {
          "name": "IDX_services_provider_title",
          "unique": false,
          "schema": "public",
          "table": "services",
          "definition": "CREATE INDEX \"IDX_services_provider_title\" ON public.services USING btree (provider_title);",
          "columns": [
            "provider_title"
          ]
        },
        {
          "name": "IDX_services_type_id",
          "unique": false,
          "schema": "public",
          "table": "services",
          "definition": "CREATE INDEX \"IDX_services_type_id\" ON public.services USING btree (type_id);",
          "columns": [
            "type_id"
          ]
        }
      ]
    },
    "public.sessions": {
      "schema": "public",
      "name": "sessions",
      "columns": {
        "sid": "character varying NOT NULL",
        "sess": "jsonb NOT NULL",
        "expire": "timestamp without time zone NOT NULL"
      },
      "primaryKey": [
        "sid"
      ],
      "uniqueConstraints": [],
      "foreignKeys": [],
      "indexes": [
        {
          "name": "IDX_session_expire",
          "unique": false,
          "schema": "public",
          "table": "sessions",
          "definition": "CREATE INDEX \"IDX_session_expire\" ON public.sessions USING btree (expire);",
          "columns": [
            "expire"
          ]
        }
      ]
    },
    "public.smart_generation_requests": {
      "schema": "public",
      "name": "smart_generation_requests",
      "columns": {
        "id": "integer NOT NULL",
        "creator_id": "character varying NOT NULL",
        "recipe_id": "integer NOT NULL",
        "recipe_variables": "jsonb NOT NULL",
        "recipe_variables_hash": "character varying(64) NOT NULL",
        "status": "character varying(20) DEFAULT 'pending'::character varying NOT NULL",
        "generation_id": "integer",
        "backlog_video_id": "integer",
        "credits_cost": "integer",
        "failure_reason": "text",
        "error_details": "jsonb",
        "created_at": "timestamp without time zone DEFAULT now()",
        "updated_at": "timestamp without time zone DEFAULT now()"
      },
      "primaryKey": [
        "id"
      ],
      "uniqueConstraints": [],
      "foreignKeys": [],
      "indexes": []
    },
    "public.tags": {
      "schema": "public",
      "name": "tags",
      "columns": {
        "id": "integer NOT NULL",
        "name": "character varying(50) NOT NULL",
        "description": "text",
        "color": "character varying(20) DEFAULT 'gray'::character varying",
        "is_active": "boolean DEFAULT true NOT NULL",
        "created_at": "timestamp without time zone DEFAULT now()",
        "is_hidden": "boolean DEFAULT false NOT NULL"
      },
      "primaryKey": [
        "id"
      ],
      "uniqueConstraints": [
        [
          "name"
        ]
      ],
      "foreignKeys": [],
      "indexes": [
        {
          "name": "idx_tags_is_hidden",
          "unique": false,
          "schema": "public",
          "table": "tags",
          "definition": "CREATE INDEX idx_tags_is_hidden ON public.tags USING btree (is_hidden);",
          "columns": [
            "i"
          ]
        }
      ]
    },
    "public.type_audio": {
      "schema": "public",
      "name": "type_audio",
      "columns": {
        "id": "integer NOT NULL",
        "title": "character varying(50) NOT NULL"
      },
      "primaryKey": [
        "id"
      ],
      "uniqueConstraints": [
        [
          "title"
        ]
      ],
      "foreignKeys": [],
      "indexes": []
    },
    "public.type_role": {
      "schema": "public",
      "name": "type_role",
      "columns": {
        "id": "integer NOT NULL",
        "title": "text NOT NULL"
      },
      "primaryKey": [
        "id"
      ],
      "uniqueConstraints": [],
      "foreignKeys": [],
      "indexes": []
    },
    "public.type_services": {
      "schema": "public",
      "name": "type_services",
      "columns": {
        "id": "integer NOT NULL",
        "title": "character varying(100) NOT NULL",
        "created_at": "timestamp without time zone DEFAULT now()"
      },
      "primaryKey": [
        "id"
      ],
      "uniqueConstraints": [
        [
          "title"
        ]
      ],
      "foreignKeys": [],
      "indexes": []
    },
    "public.type_user": {
      "schema": "public",
      "name": "type_user",
      "columns": {
        "id": "integer NOT NULL",
        "title": "text NOT NULL"
      },
      "primaryKey": [
        "id"
      ],
      "uniqueConstraints": [],
      "foreignKeys": [],
      "indexes": []
    },
    "public.users": {
      "schema": "public",
      "name": "users",
      "columns": {
        "id": "character varying NOT NULL",
        "email": "character varying",
        "first_name": "character varying",
        "last_name": "character varying",
        "profile_image_url": "character varying",
        "credits": "integer DEFAULT 10 NOT NULL",
        "created_at": "timestamp without time zone DEFAULT now()",
        "updated_at": "timestamp without time zone DEFAULT now()",
        "handle": "character varying",
        "session_token": "character varying",
        "last_seen_at": "timestamp without time zone DEFAULT now()",
        "password_hash": "character varying",
        "oauth_provider": "character varying(20)",
        "is_ephemeral": "boolean DEFAULT false",
        "can_upgrade_to_registered": "boolean DEFAULT true",
        "last_credit_refresh": "timestamp without time zone DEFAULT now()",
        "account_type": "integer",
        "access_role": "integer",
        "first_visit_at": "timestamp without time zone DEFAULT now()"
      },
      "primaryKey": [
        "id"
      ],
      "uniqueConstraints": [
        [
          "email"
        ],
        [
          "handle"
        ],
        [
          "session_token"
        ]
      ],
      "foreignKeys": [],
      "indexes": [
        {
          "name": "IDX_users_access_role",
          "unique": false,
          "schema": "public",
          "table": "users",
          "definition": "CREATE INDEX \"IDX_users_access_role\" ON public.users USING btree (access_role);",
          "columns": [
            "acce"
          ]
        },
        {
          "name": "IDX_users_account_type",
          "unique": false,
          "schema": "public",
          "table": "users",
          "definition": "CREATE INDEX \"IDX_users_account_type\" ON public.users USING btree (account_type);",
          "columns": [
            "account_type"
          ]
        },
        {
          "name": "IDX_users_email",
          "unique": false,
          "schema": "public",
          "table": "users",
          "definition": "CREATE INDEX \"IDX_users_email\" ON public.users USING btree (email);",
          "columns": [
            "email"
          ]
        },
        {
          "name": "IDX_users_session_token",
          "unique": false,
          "schema": "public",
          "table": "users",
          "definition": "CREATE INDEX \"IDX_users_session_token\" ON public.users USING btree (session_token);",
          "columns": []
        },
        {
          "name": "idx_users_first_visit_at",
          "unique": false,
          "schema": "public",
          "table": "users",
          "definition": "CREATE INDEX idx_users_first_visit_at ON public.users USING btree (first_visit_at);",
          "columns": [
            "fir"
          ]
        }
      ]
    }
  }
}